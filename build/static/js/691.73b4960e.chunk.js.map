{"version":3,"file":"static/js/691.73b4960e.chunk.js","mappings":"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","sources":["pages/categoryItem/categoryItemUpload.jsx","utils/token.js","utils/axiosIntance.js","../node_modules/@mui/icons-material/esm/Delete.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Switch from \"@mui/joy/Switch\";\nimport Alert from \"@mui/joy/Alert\";\nimport IconButton from \"@mui/joy/IconButton\";\nimport Typography from \"@mui/joy/Typography\";\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\nimport WarningIcon from \"@mui/icons-material/Warning\";\nimport Select, { selectClasses } from \"@mui/joy/Select\";\nimport Option from \"@mui/joy/Option\";\nimport { KeyboardArrowDown, Delete } from \"@mui/icons-material\";\nimport { axiosInstance } from \"../../utils/axiosIntance\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport PageLoading from \"../../components/PageLoading\";\n\nconst WelayatlarUpdate = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { id, itemId } = useParams();\n  const [file, setFile] = useState(null);\n  const fileRef = useRef(null);\n  const [group, setGroup] = useState({\n    card_type: \"card\",\n    name_tm: \"\",\n    text_tm: \"\",\n    author: \"\",\n    year: \"\",\n    publishing: \"\",\n    id: itemId,\n  });\n  const [warning, setWarning] = useState(false);\n\n  useEffect(() => {\n    getData();\n  }, [itemId]);\n\n  const getData = () => {\n    axiosInstance\n      .get(\"/api/item/\" + itemId)\n      .then((data) => {\n        console.log(data.data);\n        setGroup(data.data);\n        data?.data?.CategoryItemFiles?.length > 0\n          ? setFile({ name: data?.data?.CategoryItemFiles[0]?.filename })\n          : console.log(\"\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const updateGroup = () => {\n    setLoading(true);\n    const formData = new FormData();\n\n    formData.append(\"file\", file);\n\n    axiosInstance\n      .post(\"/api/item/upload/\" + itemId, formData)\n      .then((data) => {\n        setLoading(false);\n        console.log(data.data);\n        history.push({ pathname: \"/category/\" + id });\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n\n  const handleFile = async (f) => {\n    console.log(f);\n    const typeArray = f?.name.split(\".\");\n    const type =\n      typeArray?.length > 0 ? typeArray[typeArray?.length - 1] : null;\n\n    if ((type == \"png\" || type == \"jpeg\" || type == \"jpg\") && f) {\n      setFile(f);\n    } else {\n      setWarning(true);\n    }\n  };\n\n  return loading ? (\n    <PageLoading />\n  ) : (\n    <div className=\"w-full\">\n      {/* alert */}\n      {warning && (\n        <Alert\n          className=\"!fixed z-50 top-5 right-5\"\n          key={\"title\"}\n          sx={{ alignItems: \"flex-start\" }}\n          startDecorator={<WarningIcon />}\n          variant=\"soft\"\n          color={\"warning\"}\n          endDecorator={\n            <IconButton\n              onClick={() => setWarning(false)}\n              variant=\"soft\"\n              color={\"warning\"}\n            >\n              <CloseRoundedIcon />\n            </IconButton>\n          }\n        >\n          <div>\n            <div>{\"Maglumat nädogry!\"}</div>\n            <Typography level=\"body-sm\" color={\"warning\"}>\n              Maglumatlary doly we dogry girizmeli!\n            </Typography>\n          </div>\n        </Alert>\n      )}\n      {/* header section */}\n      <div className=\"w-full pb-[30px] flex justify-between items-center\">\n        <h1 className=\"text-[30px] font-[700]\">{group?.Category?.name_tm}</h1>\n      </div>\n\n      <div className=\"w-full min-h-[60vh] p-5 bg-white rounded-[8px]\">\n        <div className=\" flex items-center gap-4 pb-5 border-b-[1px] border-b-[#E9EBF0]\">\n          <div className=\"border-l-[3px] border-blue h-[20px]\"></div>\n          <h1 className=\"text-[20px] font-[500]\">{group?.name_tm} maglumaty</h1>\n        </div>\n\n        <div className=\"flex items-center border-t-[1px] justify-between py-[30px]\">\n          <div className=\"w-[380px]\">\n            <h1 className=\"text-[18px] font-[500]\">Faýl saýla</h1>\n            <p className=\"text-[14px] mt-2 font-[500] text-[#98A2B2]\">\n              Faýl saýlaň. Diňe birje WORD file .DOCX (.DOC kabul edilmeýär)\n              ya-da PDF file saýlamana rugsat berilýär.\n            </p>\n          </div>\n          <div className=\"flex justify-start items-center gap-3 w-[550px]\">\n            <input\n              ref={fileRef}\n              onChange={(e) => handleFile(e.target.files[0])}\n              className=\"hidden\"\n              type=\"file\"\n            />\n            <div\n              className=\"px-5 py-3 text-[14px] text-[#98A2B2] border-[1px] border-dashed rounded-[12px] cursor-pointer \"\n              onClick={() => fileRef.current.click()}\n            >\n              File saýla\n            </div>\n            <div className=\"px-5 py-3 text-[14px] text-[#98A2B2]\">\n              {file?.name}\n            </div>\n            {file ? (\n              <Delete\n                onClick={() => {\n                  setFile(null);\n                  setGroup({\n                    ...group,\n                    name_tm: \"\",\n                    year: \"\",\n                    card_type: \"card\",\n                  });\n                }}\n                className=\"text-[#98A2B2] cursor-pointer\"\n              />\n            ) : null}\n          </div>\n        </div>\n\n        <div className=\"flex items-center border-t-[1px] justify-between py-[30px]\">\n          <div className=\"w-[380px]\">\n            <h1 className=\"text-[18px] font-[500]\">Goşulan senesi</h1>\n            <p className=\"text-[14px] mt-2 font-[500] text-[#98A2B2]\">\n              Döredilen senesi\n            </p>\n          </div>\n          <div className=\"flex justify-start w-[550px]\">\n            <h1 className=\"text-[16px] font-[400]\">\n              {group?.createdAt?.slice(0, 10) +\n                \" / \" +\n                group?.createdAt?.slice(11, 16)}\n            </h1>\n          </div>\n        </div>\n      </div>\n      <div className=\"w-full mt-5 flex justify-between items-center bg-white py-4 px-5 border-[1px] border-[#E9EBF0] rounded-[8px]\">\n        <div className=\"flex items-center gap-2\">\n          <h1 className=\"text-[14px] font-[400] text-[#98A2B2]\">\n            Soňky düzediş\n          </h1>\n          <h1 className=\"text-[14px] font-[400]\">\n            {group?.updatedAt?.slice(0, 10) +\n              \" / \" +\n              group?.updatedAt?.slice(11, 16)}\n          </h1>\n        </div>\n        <div className=\"w-fit flex gap-6 items-center \">\n          <button\n            onClick={() => history.goBack()}\n            className=\"text-blue text-[14px] font-[500] py-[11px] px-[27px] hover:bg-red hover:text-white rounded-[8px]\"\n          >\n            Goýbolsun et\n          </button>\n          <button\n            onClick={() => updateGroup()}\n            className=\"text-white text-[14px] font-[500] py-[11px] px-[27px] bg-blue rounded-[8px] hover:bg-opacity-90\"\n          >\n            Ýatda sakla\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(WelayatlarUpdate);\n","export const token = () => {\r\n  if (JSON.parse(localStorage.getItem(\"userData\"))) {\r\n    var data = JSON.parse(localStorage.getItem(\"userData\"));\r\n    return data.token;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport { token } from \"./token\";\r\n\r\nconst BASE_URL = process.env.REACT_APP_BACKENDHOST;\r\nconsole.log(BASE_URL);\r\n// \"http://localhost:8484/\";\r\n// const BASE_URL = \"http://192.168.137.70:8484/\";\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 10000000,\r\n  // withCredentials: false,\r\n  headers: {\r\n    Authorization: \"Bearer \" + token(),\r\n    \"Content-Type\": \"multipart/form-data\",\r\n    Accept: \"application/json\",\r\n    // Authorization:'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwibmFtZSI6IktlcmltIiwiaWF0IjoxNjE2NDUwNjU3fQ.v8iyHYmwNlKVhLUA7LzxybICB8zzbVjRyXeFZbV7IPw'\r\n  },\r\n});\r\n\r\nexport { BASE_URL, axiosInstance };\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');"],"names":["WelayatlarUpdate","_group$Category","_group$createdAt","_group$createdAt2","_group$updatedAt","_group$updatedAt2","history","useHistory","loading","setLoading","useState","id","itemId","useParams","file","setFile","fileRef","useRef","group","setGroup","card_type","name_tm","text_tm","author","year","publishing","warning","setWarning","useEffect","getData","axiosInstance","get","then","data","_data$data","_data$data$CategoryIt","_data$data2","_data$data2$CategoryI","console","log","CategoryItemFiles","length","name","filename","catch","err","_jsx","PageLoading","_jsxs","className","children","Alert","sx","alignItems","startDecorator","WarningIcon","variant","color","endDecorator","IconButton","onClick","CloseRoundedIcon","Typography","level","Category","ref","onChange","e","async","f","typeArray","split","type","handleFile","target","files","current","click","Delete","createdAt","slice","updatedAt","goBack","updateGroup","formData","FormData","append","post","push","pathname","React","BASE_URL","process","axios","create","baseURL","timeout","headers","Authorization","token","JSON","parse","localStorage","getItem","Accept","createSvgIcon","d"],"sourceRoot":""}